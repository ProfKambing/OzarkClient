package me.trambled.ozark.ozarkclient.module.exploit;

import me.trambled.ozark.ozarkclient.event.events.EventPacket;
import me.trambled.ozark.ozarkclient.event.events.EventSwing;
import me.trambled.ozark.ozarkclient.module.Category;
import me.trambled.ozark.ozarkclient.module.Module;
import me.trambled.ozark.ozarkclient.module.Setting;
import me.zero.alpine.fork.listener.EventHandler;
import me.zero.alpine.fork.listener.Listener;
import net.minecraft.network.play.client.CPacketAnimation;
import net.minecraft.util.EnumHand;

public class NoSwing extends Module {

    public NoSwing() {
        super(Category.EXPLOIT);

		this.name        = "NoSwing";
		this.tag         = "NoSwing";
		this.description = "Ill swing u init fam.";
    }

    Setting mode = create("Mode", "NoSwingMode", "Full", combobox("Full", "Packet", "Offhand"));

    @EventHandler
	public Listener<EventPacket.SendPacket> listener = new Listener<>(event -> {
        if (event.get_packet() instanceof CPacketAnimation && mode.in("Packet")) {
			event.cancel();
		}
    });
    
    @EventHandler
	public Listener<EventSwing> listener_ = new Listener<>(event -> {
        if (mode.in("Full")) event.cancel();
        else if (mode.in("Offhand")) event.hand = EnumHand.OFF_HAND;
    });



}